<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>年間カレンダー</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <header class="app-header">
      <h1>年間カレンダー</h1>
      <form id="yearForm" class="year-form">
        <label for="yearInput">年を選択:</label>
        <input type="number" id="yearInput" name="year" min="1" max="9999" step="1" />
        <button type="submit">表示</button>
        <p id="yearError" class="form-error" aria-live="polite"></p>
      </form>
    </header>

    <main>
      <section class="upload-placeholder">
        <h2>CSVアップロード（準備中）</h2>
        <p>近日中にCSVから予定を取り込めるようになります。</p>
        <label class="upload-label" for="csvUpload">CSVファイル:</label>
        <input type="file" id="csvUpload" accept=".csv" disabled />
      </section>

      <section id="calendar" class="calendar-grid" aria-live="polite"></section>
    </main>

    <div
      id="monthModal"
      class="month-modal"
      aria-hidden="true"
      role="dialog"
      aria-label="月の拡大表示"
    >
      <div class="month-modal__backdrop" data-modal-close></div>
      <div class="month-modal__dialog">
        <button
          type="button"
          id="modalCloseButton"
          class="month-modal__close"
          aria-label="閉じる"
          data-modal-close
        >
          ×
        </button>
        <div id="modalCalendarContainer" class="month-modal__calendar"></div>
      </div>
    </div>

    <div
      id="yearChartModal"
      class="year-chart-modal"
      aria-hidden="true"
      role="dialog"
      aria-label="年間損益グラフ"
    >
      <div class="year-chart-modal__backdrop" data-year-chart-close></div>
      <div class="year-chart-modal__dialog">
        <button
          type="button"
          id="yearChartCloseButton"
          class="year-chart-modal__close"
          aria-label="閉じる"
          data-year-chart-close
        >
          ×
        </button>
        <div id="yearChartContainer" class="year-chart-modal__content"></div>
      </div>
    </div>

    <template id="monthTemplate">
      <article class="calendar-month">
        <header class="month-header"></header>
        <table>
          <caption class="month-caption"></caption>
          <thead>
            <tr class="weekday-row"></tr>
          </thead>
          <tbody class="weeks"></tbody>
        </table>
      </article>
    </template>

    <script src="/main.js" type="module"></script>
  </body>
</html>
